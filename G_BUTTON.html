<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Would You Press the Button?</title>
  <style>
    body {
      margin: 0;
      padding: 20px;
      font-family: 'Arial', sans-serif;
      background-color: #111;
      color: #fff;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      text-align: center;
    }

    h1 {
      font-size: 2.5rem;
      color: #ff4444;
      margin-bottom: 10px;
    }

    #progress {
      margin-bottom: 20px;
      color: #aaa;
    }

    #question {
      font-size: 1.5rem;
      margin: 30px 20px;
      min-height: 72px;
      display: flex;
      align-items: center;
    }

    .btn-container {
      display: flex;
      gap: 20px;
      margin-bottom: 30px;
      flex-wrap: wrap;
      justify-content: center;
    }

    .btn {
      padding: 15px 30px;
      font-size: 1.2rem;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.3s;
      font-weight: bold;
      min-width: 120px;
    }

    .btn:hover {
      transform: scale(1.05);
    }

    .btn:active {
      transform: scale(0.95);
    }

    .yes-btn { 
      background: #4CAF50; 
      color: white; 
    }
    .no-btn { 
      background: #f44336; 
      color: white; 
    }

    .result-container {
      min-height: 60px;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 30px;
    }

    .dot {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      margin: 10px;
      padding: 15px;
      border-radius: 50%;
      color: white;
      font-size: 1.1rem;
      font-weight: bold;
      width: 60px;
      height: 60px;
      animation: popIn 0.5s;
    }

    @keyframes popIn {
      0% { transform: scale(0); }
      80% { transform: scale(1.1); }
      100% { transform: scale(1); }
    }

    .yes-dot { background-color: #4CAF50; }
    .no-dot { background-color: #f44336; }

    #history-container {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 10px;
      margin-top: 20px;
      max-width: 800px;
    }

    .history-dot {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      color: white;
      font-size: 0.8rem;
      font-weight: bold;
    }

    #restart-btn {
      background: #2196F3;
      color: white;
      display: none;
      margin-top: 20px;
    }

    @media (max-width: 600px) {
      h1 { font-size: 2rem; }
      #question { font-size: 1.2rem; }
      .btn { padding: 12px 24px; font-size: 1rem; }
      .dot { width: 50px; height: 50px; font-size: 1rem; }
      .history-dot { width: 30px; height: 30px; font-size: 0.7rem; }
    }
  </style>
</head>
<body>
  <h1>Would You Press the Button?</h1>
  <div id="progress"></div>
  <div id="question">Loading...</div>
  <div class="btn-container">
    <button class="btn yes-btn" onclick="choose(true)">YES</button>
    <button class="btn no-btn" onclick="choose(false)">NO</button>
  </div>
  <div class="result-container" id="result"></div>
  <div id="history-container"></div>
  <button id="restart-btn" class="btn" onclick="restartGame()">Play Again</button>

  <script>
    // Game configuration
    const QUESTIONS_PER_GAME = 10;
    const RESULT_DISPLAY_TIME = 1500;

    // Questions database
    const allQuestions = [
      { text: "You gain the ability to fly, but only while sneezing.", yes: 64, no: 36 },
      { text: "You become invisible, but only at midnight.", yes: 72, no: 28 },
      { text: "You cure all diseases, but nobody knows it was you.", yes: 91, no: 9 },
      { text: "You get $1 million, but lose one cherished memory.", yes: 55, no: 45 },
      { text: "You become famous, but can never be alone again.", yes: 43, no: 57 },
      { text: "You can read minds, but can't talk ever again.", yes: 31, no: 69 },
      { text: "You can teleport, but each time you lose a year of your life.", yes: 48, no: 52 },
      { text: "You are loved by everyone, but you never find true love.", yes: 38, no: 62 },
      { text: "You never get tired, but can't sleep ever again.", yes: 42, no: 58 },
      { text: "You live forever, but see everyone else age.", yes: 35, no: 65 },
      { text: "You stop all wars, but no more music exists.", yes: 50, no: 50 },
      { text: "You get the perfect body, but lose your voice.", yes: 46, no: 54 },
      { text: "You win every game, but lose all your friends.", yes: 20, no: 80 },
      { text: "You save the planet, but nobody remembers you.", yes: 88, no: 12 },
      { text: "You can visit any time in history, but can't return.", yes: 34, no: 66 },
      { text: "You gain genius intelligence, but lose creativity.", yes: 60, no: 40 },
      { text: "You eat anything without gaining weight, but never enjoy food.", yes: 52, no: 48 },
      { text: "You control weather, but one city suffers daily.", yes: 41, no: 59 },
      { text: "You eliminate taxes, but work every weekend forever.", yes: 39, no: 61 },
      { text: "You teleport anywhere instantly, but only naked.", yes: 45, no: 55 },
      { text: "You can speak all languages, but forget your own.", yes: 47, no: 53 },
      { text: "You can be invisible at will, but glow while sleeping.", yes: 56, no: 44 },
      { text: "You stop global warming, but internet is banned.", yes: 58, no: 42 },
      { text: "You become rich, but never see the sky again.", yes: 27, no: 73 },
      { text: "You master any skill instantly, but lose one each week.", yes: 53, no: 47 },
      { text: "You get $10M, but forget your best friend's name.", yes: 35, no: 65 },
      { text: "You bring peace to the world, but can't ever laugh.", yes: 70, no: 30 },
      { text: "You know the future, but can't change it.", yes: 62, no: 38 },
      { text: "You end poverty, but live in it forever.", yes: 74, no: 26 },
      { text: "You become a legend, but forgotten in 1 year.", yes: 49, no: 51 }
    ];

    // Game state
    let currentGame = {
      questions: [],
      currentIndex: 0,
      score: 0,
      history: []
    };

    // Fisher-Yates shuffle algorithm
    function shuffleQuestions() {
      const shuffled = [...allQuestions];
      for (let i = shuffled.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
      }
      return shuffled.slice(0, QUESTIONS_PER_GAME);
    }

    function initGame() {
      currentGame = {
        questions: shuffleQuestions(),
        currentIndex: 0,
        score: 0,
        history: []
      };
      document.getElementById('restart-btn').style.display = 'none';
      document.getElementById('history-container').innerHTML = '';
      showQuestion();
    }

    function showQuestion() {
      const { currentIndex, questions } = currentGame;
      document.getElementById('result').innerHTML = '';
      document.getElementById('question').textContent = questions[currentIndex].text;
      document.getElementById('progress').textContent = `Question ${currentIndex + 1} of ${QUESTIONS_PER_GAME}`;
    }

    function updateHistory() {
      const historyContainer = document.getElementById('history-container');
      historyContainer.innerHTML = '';
      
      currentGame.history.forEach((item, index) => {
        const dot = document.createElement('div');
        dot.className = `history-dot ${item.yes ? 'yes-dot' : 'no-dot'}`;
        dot.textContent = `${item.percent}%`;
        dot.title = `Q${index + 1}: ${item.percent}% ${item.yes ? 'YES' : 'NO'}`;
        historyContainer.appendChild(dot);
      });
    }

    function choose(yes) {
      const { currentIndex, questions } = currentGame;
      const question = questions[currentIndex];
      const percent = yes ? question.yes : question.no;
      
      // Check if user agreed with majority
      if ((yes && question.yes >= 50) || (!yes && question.no >= 50)) {
        currentGame.score++;
      }

      // Add to history
      currentGame.history.push({
        yes: yes,
        percent: percent
      });

      // Show current result
      const dot = document.createElement('div');
      dot.className = `dot ${yes ? 'yes-dot' : 'no-dot'}`;
      dot.textContent = `${percent}%`;
      document.getElementById('result').innerHTML = '';
      document.getElementById('result').appendChild(dot);

      // Update history display
      updateHistory();

      // Move to next question or end game
      setTimeout(() => {
        currentGame.currentIndex++;
        if (currentGame.currentIndex < questions.length) {
          showQuestion();
        } else {
          endGame();
        }
      }, RESULT_DISPLAY_TIME);
    }

    function endGame() {
      document.getElementById('question').innerHTML = `
        Game Over!<br>
        You agreed with the majority <strong>${currentGame.score}</strong> out of ${QUESTIONS_PER_GAME} times.
      `;
      document.getElementById('progress').textContent = '';
      document.getElementById('result').innerHTML = '';
      document.getElementById('restart-btn').style.display = 'block';
    }

    function restartGame() {
      initGame();
    }

    // Initialize the game when page loads
    window.onload = initGame;
  </script>
</body>
</html>